<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 19 Finding and accessing data | Data Visualization</title>
<meta name="author" content="Andrew Irwin">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.6.4/header-attrs.js"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.3.9000/tabs.js"></script><script src="libs/bs3compat-0.2.3.9000/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="libs/leaflet-1.3.1/leaflet.js"></script><link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="libs/proj4-2.6.2/proj4.min.js"></script><script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Data Visualization</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="syllabus.html">Syllabus</a></li>
<li><a class="" href="outline.html">Detailed outline</a></li>
<li><a class="" href="sync.html">Synchronous meeting agendas</a></li>
<li><a class="" href="evaluation.html">Evaluation</a></li>
<li><a class="" href="ch-invitation.html"><span class="header-section-number">1</span> Invitation to Data Visualization</a></li>
<li><a class="" href="ch-tools.html"><span class="header-section-number">2</span> Computer tools</a></li>
<li><a class="" href="setup.html"><span class="header-section-number">3</span> Setting up your computer</a></li>
<li><a class="" href="look-data.html"><span class="header-section-number">4</span> Look at Data</a></li>
<li><a class="" href="first-plot.html"><span class="header-section-number">5</span> Making your first plot</a></li>
<li><a class="" href="vcs.html"><span class="header-section-number">6</span> What is version control software?</a></li>
<li><a class="" href="grammar.html"><span class="header-section-number">7</span> Grammar of Graphics</a></li>
<li><a class="" href="ggplot.html"><span class="header-section-number">8</span> Using the grammar of graphics</a></li>
<li><a class="" href="summarizing-data.html"><span class="header-section-number">9</span> Summarizing data</a></li>
<li><a class="" href="facets.html"><span class="header-section-number">10</span> Facetted graphs</a></li>
<li><a class="" href="reading-data.html"><span class="header-section-number">11</span> Reading data</a></li>
<li><a class="" href="pivot.html"><span class="header-section-number">12</span> Reshaping data</a></li>
<li><a class="" href="format-tables.html"><span class="header-section-number">13</span> Format tables</a></li>
<li><a class="" href="help.html"><span class="header-section-number">14</span> Getting help and asking questions</a></li>
<li><a class="" href="working-models.html"><span class="header-section-number">15</span> Working with models</a></li>
<li><a class="" href="linear-models.html"><span class="header-section-number">16</span> Linear models</a></li>
<li><a class="" href="smoothing.html"><span class="header-section-number">17</span> GAM and LOESS smoothing</a></li>
<li><a class="" href="collaboration.html"><span class="header-section-number">18</span> Collaborating with GitHub</a></li>
<li><a class="active" href="data-sources.html"><span class="header-section-number">19</span> Finding and accessing data</a></li>
<li><a class="" href="reproduce.html"><span class="header-section-number">20</span> Reproducible reports</a></li>
<li><a class="" href="pca.html"><span class="header-section-number">21</span> Principal component analysis</a></li>
<li><a class="" href="mds.html"><span class="header-section-number">22</span> Multidimensional scaling</a></li>
<li><a class="" href="k-means.html"><span class="header-section-number">23</span> K-means clustering</a></li>
<li><a class="" href="slides.html"><span class="header-section-number">24</span> Making slides for presentations</a></li>
<li><a class="" href="mapping-1.html"><span class="header-section-number">25</span> Making maps</a></li>
<li><a class="" href="mapping-2.html"><span class="header-section-number">26</span> Mapping part two</a></li>
<li><a class="" href="mapping-3.html"><span class="header-section-number">27</span> Alternatives to maps</a></li>
<li><a class="" href="factors-dates.html"><span class="header-section-number">28</span> Working with factors and dates</a></li>
<li><a class="" href="colour.html"><span class="header-section-number">29</span> Using colour well</a></li>
<li><a class="" href="theme.html"><span class="header-section-number">30</span> Themes</a></li>
<li><a class="" href="output-files.html"><span class="header-section-number">31</span> Graphics formatting</a></li>
<li><a class="" href="organization.html"><span class="header-section-number">32</span> Staying organized</a></li>
<li><a class="" href="r-details.html"><span class="header-section-number">33</span> More details about R</a></li>
<li><a class="" href="accessibility-bias-and-ethics.html"><span class="header-section-number">34</span> Accessibility, Bias, and Ethics</a></li>
<li><a class="" href="metadata.html">Metadata</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/AndrewIrwin/data-visualization">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="data-sources" class="section level1" number="19">
<h1>
<span class="header-section-number">19</span> Finding and accessing data<a class="anchor" aria-label="anchor" href="#data-sources"><i class="fas fa-link"></i></a>
</h1>
<p>Data are available from a huge number of sites on the internet run by governments, NGOs, companies, industry associations, research projects, and individuals. These data come in a variety of formats and while many will be easy to read with R, some will be quite challenging. In this lesson I will introduce you to some sources of data. Partly this is to help you start to learn how to navigate a variety of data sources, but of course part of the reason is to get you thinking about data you might use in your project. For more information on the project see the <a href="evaluation.html#project-description">description</a> on the evaluation page.</p>
<div id="finding-data" class="section level2" number="19.1">
<h2>
<span class="header-section-number">19.1</span> Finding data<a class="anchor" aria-label="anchor" href="#finding-data"><i class="fas fa-link"></i></a>
</h2>
<div id="data-in-r-packages" class="section level3" number="19.1.1">
<h3>
<span class="header-section-number">19.1.1</span> Data in R packages<a class="anchor" aria-label="anchor" href="#data-in-r-packages"><i class="fas fa-link"></i></a>
</h3>
<p>Many datasets are available as part of R packages. These are the easiest to use, but they are often small and designed for demonstration purposes. For example, the gapminder package only contains a small portion of the data available on the gapminder website.</p>
<p>These are the go-to datasets that we have used for demonstrating many simple visualizations:</p>
<ul>
<li>mtcars and many other well-known data in datasets package</li>
<li>penguins in palmerpenguins package</li>
<li>gapminder in gapminder package (but see website too <a href="https://www.gapminder.org/data/">Gapminder</a>)</li>
<li>diamonds, mpg, economics, midwest, msleep in ggplot2 package</li>
<li>nycflights13 in dbplyr package</li>
<li>gss_sm, gss_cat, gss_sib, gss_lon and gss_lon in socviz package</li>
</ul>
<p>The function <code>datasets</code> in the package <code>datasets.load</code> will display a list of all datasets in R packages you have installed on your computer. There is not much information about each dataset, but you once you know their names, you can read the help page for each dataset.</p>
</div>
<div id="tidy-tuesday" class="section level3" number="19.1.2">
<h3>
<span class="header-section-number">19.1.2</span> Tidy Tuesday<a class="anchor" aria-label="anchor" href="#tidy-tuesday"><i class="fas fa-link"></i></a>
</h3>
<p>Tidy Tuesday is a project to encourage people to develop skills at data visualization and analysis using the tidyverse packages in R.
Each week a new data set is posted and participants experiment to create new visualzations. Some people share their work on GitHub and social media.</p>
<ul>
<li>The Tidy Tuesday <a href="https://github.com/rfordatascience/tidytuesday">website</a> describes the project and has a catalog of available datasets from previous weeks.</li>
<li>The R package to access the data is called <code>tidytuesdayR</code>. Examples of using the package are <a href="https://github.com/thebioengineer/tidytuesdayR">here</a>
</li>
</ul>
</div>
<div id="r-packages-for-accessing-data" class="section level3" number="19.1.3">
<h3>
<span class="header-section-number">19.1.3</span> R packages for accessing data<a class="anchor" aria-label="anchor" href="#r-packages-for-accessing-data"><i class="fas fa-link"></i></a>
</h3>
<p>There are many packages designed primarily to provide access to large collections of data. Here are a few examples.</p>
<ul>
<li>
<a href="https://cran.r-project.org/web/packages/OECD/vignettes/oecd_vignette_main.html">OECD</a> for data from the <a href="https://stats.oecd.org/">OECD</a>
</li>
<li>
<a href="https://cran.r-project.org/web/packages/cansim/vignettes/cansim.html">cansim</a> for data from <a href="https://www150.statcan.gc.ca/n1/en/type/data">Statistics Canada</a>
</li>
<li>
<a href="https://cran.r-project.org/web/packages/cancensus/vignettes/cancensus.html">cancensus</a> for data from the Canadian census and National household survey. You need to create an account and get an API key to use this package. The package documentation shows you how.</li>
</ul>
</div>
<div id="websites-with-data-collections" class="section level3" number="19.1.4">
<h3>
<span class="header-section-number">19.1.4</span> Websites with data collections<a class="anchor" aria-label="anchor" href="#websites-with-data-collections"><i class="fas fa-link"></i></a>
</h3>
<p>Naturally there are websites that curate lists of data available from other sites. Here are a few I’ve found useful.</p>
<ul>
<li>
<a href="https://ourworldindata.org/">Our World In Data</a> is a curated set of over 3000 charts with documentation and open source data.</li>
<li>The <a href="https://github.com/awesomedata/awesome-public-datasets">awesome public datasets</a> project collects high quality public data, organized thematically.</li>
<li>This is one person’s collection of <a href="https://github.com/tacookson/data">data</a> of various sources</li>
<li>
<a href="https://r-dir.com/reference/datasets.html">r-dir</a> has a list of freely available datasets</li>
<li>World Bank <a href="https://datacatalog.worldbank.org/dataset/world-development-indicators">economic development indicators</a>
</li>
</ul>
</div>
<div id="canadian-covid-data" class="section level3" number="19.1.5">
<h3>
<span class="header-section-number">19.1.5</span> Canadian COVID data<a class="anchor" aria-label="anchor" href="#canadian-covid-data"><i class="fas fa-link"></i></a>
</h3>
<p>Many countries and other organizations have developed collections of COVID-related data. Here are some sources for Canada.</p>
<ul>
<li>
<a href="https://health-infobase.canada.ca/covid-19/visual-data-gallery/">Federal</a>, <a href="https://experience.arcgis.com/experience/a6f23959a8b14bfa989e3cda29297ded">BC</a>, <a href="https://www.alberta.ca/stats/covid-19-alberta-statistics.htm">AB</a>, <a href="https://dashboard.saskatchewan.ca/health-wellness/covid-19/cases">SK</a>, <a href="https://www.arcgis.com/apps/opsdashboard/index.html#/29e86894292e449aa75763b077281b5b?rha=Winnipeg">MB</a>, <a href="https://covid-19.ontario.ca/data">ON</a>, <a href="https://www.inspq.qc.ca/covid-19/donnees/par-region">QC</a>, <a href="https://experience.arcgis.com/experience/8eeb9a2052d641c996dba5de8f25a8aa">NB</a>, <a href="https://www.princeedwardisland.ca/en/information/health-and-wellness/pei-covid-19-case-data">PE</a>, <a href="https://novascotia.ca/coronavirus/data/">NS</a>,</li>
</ul>
</div>
</div>
<div id="examples-of-accessing-data" class="section level2" number="19.2">
<h2>
<span class="header-section-number">19.2</span> Examples of accessing data<a class="anchor" aria-label="anchor" href="#examples-of-accessing-data"><i class="fas fa-link"></i></a>
</h2>
<div id="gapminder" class="section level3" number="19.2.1">
<h3>
<span class="header-section-number">19.2.1</span> Gapminder<a class="anchor" aria-label="anchor" href="#gapminder"><i class="fas fa-link"></i></a>
</h3>
<p>Gapminder distributes many datasets, some of their own, and some collected by other organizations that they are redistributing. They have a <a href="https://www.gapminder.org/data/">webpage</a> to help you search, browse and access the data. Using this webpage I have found <a href="http://gapm.io/dpop">data</a> on population of countries by years from 1800-2100 (with many missing data, some interpolated data, and of course many years of projections). Here is some R code to read and work with this data. There are data on 195 countries over 302 years. I have selected five countries to make a simple plot.</p>
<div class="sourceCode" id="cb212"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pop</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"static/population_total.csv"</span><span class="op">)</span></code></pre></div>
<pre><code>## 
## ── Column specification ────────────────────────────────────────────────────────
## cols(
##   .default = col_double(),
##   country = col_character()
## )
## ℹ Use `spec()` for the full column specifications.</code></pre>
<div class="sourceCode" id="cb214"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pop</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">country</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Canada"</span>, <span class="st">"China"</span>, <span class="st">"Chile"</span>, <span class="st">"Germany"</span>, <span class="st">"United States"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">pivot_longer</span><span class="op">(</span><span class="va">`1800`</span><span class="op">:</span><span class="va">`2100`</span>, names_to <span class="op">=</span> <span class="st">"years"</span>, values_to <span class="op">=</span> <span class="st">"population"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">mutate</span><span class="op">(</span>years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">years</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">years</span>, 
             y <span class="op">=</span> <span class="va">population</span>, 
             color <span class="op">=</span> <span class="fu">fct_reorder</span><span class="op">(</span><span class="va">country</span>, <span class="va">population</span>, <span class="va">max</span>, .desc<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_log10</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu"><a href="https://scales.r-lib.org//reference/trans_format.html">trans_format</a></span><span class="op">(</span><span class="st">"log10"</span>, <span class="fu"><a href="https://scales.r-lib.org//reference/label_parse.html">math_format</a></span><span class="op">(</span><span class="fl">10</span><span class="op">^</span><span class="va">.x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"Country"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="301-data-sources_files/figure-html/unnamed-chunk-2-1.png" width="672"></div>
</div>
<div id="consumer-price-index-in-canada" class="section level3" number="19.2.2">
<h3>
<span class="header-section-number">19.2.2</span> Consumer price index in Canada<a class="anchor" aria-label="anchor" href="#consumer-price-index-in-canada"><i class="fas fa-link"></i></a>
</h3>
<p>One measure of inflation is its effect on prices. Here is a table from Statistics Canada that reports over 1 million rows of data on this measure. Statistics Canada tables are an extreme version of “long” data, which usually require a lot of filtering to get just the rows you want. You will want to make use of <code>dpylr</code> functions <code>summarize</code> and <code>count</code> to study the structure of the data.</p>
<div class="sourceCode" id="cb215"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Population and projection in a huge table with 2 million rows, 300 MB of data</span>
<span class="co"># cansim::get_cansim("17100057")  </span>
<span class="va">cpi</span> <span class="op">&lt;-</span> <span class="fu">cansim</span><span class="fu">::</span><span class="fu"><a href="https://mountainmath.github.io/cansim/index.html/reference/get_cansim.html">get_cansim</a></span><span class="op">(</span><span class="st">"18-10-0004-01"</span><span class="op">)</span></code></pre></div>
<pre><code>## Accessing CANSIM NDM product 18-10-0004 from Statistics Canada</code></pre>
<pre><code>## Parsing data</code></pre>
<pre><code>## Folding in metadata</code></pre>
<div class="sourceCode" id="cb219"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cpi</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">`Products and product groups`</span> <span class="op">==</span> <span class="st">"All-items"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">count</span><span class="op">(</span><span class="va">GEO</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 30 x 2
##    GEO                                                    n
##    &lt;chr&gt;                                              &lt;int&gt;
##  1 Alberta                                              508
##  2 British Columbia                                     508
##  3 Calgary, Alberta                                     600
##  4 Canada                                              1284
##  5 Charlottetown and Summerside, Prince Edward Island   564
##  6 Edmonton, Alberta                                    600
##  7 Halifax, Nova Scotia                                 600
##  8 Iqaluit, Nunavut                                     217
##  9 Manitoba                                             508
## 10 Montréal, Quebec                                     600
## # … with 20 more rows</code></pre>
<p>Let’s look at these data for Canada as a whole.</p>
<div class="sourceCode" id="cb221"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cpi</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">`Products and product groups`</span> <span class="op">==</span> <span class="st">"All-items"</span>,
               <span class="va">GEO</span> <span class="op">==</span> <span class="st">"Canada"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/MASS/man/lm.ridge.html">select</a></span><span class="op">(</span><span class="va">REF_DATE</span>, <span class="va">VALUE</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">mutate</span><span class="op">(</span>date <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="http://lubridate.tidyverse.org/reference/ymd.html">ym</a></span><span class="op">(</span><span class="va">REF_DATE</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, y <span class="op">=</span> <span class="va">VALUE</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Date"</span>, y <span class="op">=</span> <span class="st">"All items CPI"</span>,
       title <span class="op">=</span> <span class="st">"Consumer price index in Canada"</span>,
       caption <span class="op">=</span> <span class="st">"Scaled so that 2002 = 100"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_log10</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure">
<img src="301-data-sources_files/figure-html/unnamed-chunk-3-1.png" width="672">
### Causes of death worldwide</div>
<p><a href="https://ourworldindata.org/">Our world in data</a> has many compliations of data across many countries. <a href="https://ourworldindata.org/causes-of-death">Here</a> is a table listing causes of death over time and countries. There is a link to a csv file on that page that can be easily read with R. As is often the case, this is a large table (nearly 7000 observations of 37 variables). You will need to explore the data a bit to understand it. Here is one simple plot that can be made.</p>
<div class="sourceCode" id="cb222"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">death</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"static/annual-number-of-deaths-by-cause.csv"</span>, guess_max <span class="op">=</span> <span class="fl">10000</span><span class="op">)</span></code></pre></div>
<pre><code>## 
## ── Column specification ────────────────────────────────────────────────────────
## cols(
##   .default = col_double(),
##   Entity = col_character(),
##   Code = col_character(),
##   `Number of executions (Amnesty International)` = col_character()
## )
## ℹ Use `spec()` for the full column specifications.</code></pre>
<div class="sourceCode" id="cb224"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">death</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">Entity</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Canada"</span>, <span class="st">"China"</span>, <span class="st">"Germany"</span>, <span class="st">"United States"</span><span class="op">)</span>,
                 <span class="va">Year</span> <span class="op">==</span> <span class="fl">2015</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/MASS/man/lm.ridge.html">select</a></span><span class="op">(</span><span class="va">Entity</span>, <span class="va">`Deaths - Road injuries - Sex: Both - Age: All Ages (Number)`</span><span class="op">:</span><span class="va">`Terrorism (deaths)`</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">pivot_longer</span><span class="op">(</span><span class="va">`Deaths - Road injuries - Sex: Both - Age: All Ages (Number)`</span><span class="op">:</span><span class="va">`Terrorism (deaths)`</span>,
               names_to <span class="op">=</span> <span class="st">"Cause"</span>, values_to <span class="op">=</span> <span class="st">"Deaths"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">mutate</span><span class="op">(</span>Cause <span class="op">=</span> <span class="fu">str_remove</span><span class="op">(</span><span class="va">Cause</span>, <span class="st">"Deaths - "</span><span class="op">)</span> <span class="op">%&gt;%</span> 
           <span class="fu">str_remove</span><span class="op">(</span><span class="st">" - Sex: Both - Age: All Ages \\(Number\\)"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Deaths</span>, y <span class="op">=</span> <span class="fu">fct_reorder</span><span class="op">(</span><span class="va">Cause</span>, <span class="va">Deaths</span><span class="op">)</span>, 
             color <span class="op">=</span> <span class="va">Entity</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_log10</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>## Warning: Transformation introduced infinite values in continuous x-axis</code></pre>
<div class="inline-figure"><img src="301-data-sources_files/figure-html/unnamed-chunk-4-1.png" width="672"></div>
<p>Of course, it would probably be more interesting to plot these as per capita deaths; or at least, that would enable a different sort of comparison.</p>
</div>
</div>
<div id="other-r-packages-related-to-data-collection" class="section level2" number="19.3">
<h2>
<span class="header-section-number">19.3</span> Other R packages related to data collection<a class="anchor" aria-label="anchor" href="#other-r-packages-related-to-data-collection"><i class="fas fa-link"></i></a>
</h2>
<p>Sometimes the only way you will find data is as a table on a website or in a document. The <a href="https://github.com/MilesMcBain/datapasta">datapasta</a> package is useful for some common reformatting tasks that are required after copy-and-paste.</p>
<p>Sometimes data you want are only available on a graph – just points or lines and no numeric data at all. There are a variety of “data thief” tools for extracting quantitative data from these images, for example, the web app <a href="https://automeris.io/WebPlotDigitizer/">WebPlotDigitizer</a>.</p>
</div>
<div id="describing-data" class="section level2" number="19.4">
<h2>
<span class="header-section-number">19.4</span> Describing data<a class="anchor" aria-label="anchor" href="#describing-data"><i class="fas fa-link"></i></a>
</h2>
<p>Once you have done work to find data, you will also want to do some research to learn the “5 Ws” of data. In addition to what the variables are and what each observation represents, you will want to know who collected it, when, why, and how. It’s a good idea to write a “readme” to summarize what you learn. For your term project you will be asked to provide some information on the datasets you analyze, but you should also be aware that there are <a href="https://data.research.cornell.edu/content/readme">online guides</a> that provide advice on documenting data.</p>
</div>
<div id="distribution-of-data" class="section level2" number="19.5">
<h2>
<span class="header-section-number">19.5</span> Distribution of data<a class="anchor" aria-label="anchor" href="#distribution-of-data"><i class="fas fa-link"></i></a>
</h2>
<p>If you want to distribute an analysis of data or redistribute the original data, please be sure to respect the terms of use of the data. Many people encourage the use of <a href="https://en.wikipedia.org/wiki/FAIR_data">FAIR</a> data usage principles.</p>
</div>
<div id="further-reading-13" class="section level2" number="19.6">
<h2>
<span class="header-section-number">19.6</span> Further reading<a class="anchor" aria-label="anchor" href="#further-reading-13"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>
<a href="https://r4ds.had.co.nz/data-import.html">Importing data</a> from R4DS</li>
<li>Roger Peng’s notes on <a href="https://bookdown.org/rdpeng/rprogdatascience/getting-data-in-and-out-of-r.html">importing data</a>
</li>
<li>An older but comprehensive guide to <a href="https://cran.r-project.org/doc/manuals/r-release/R-data.html">importing data</a>
</li>
</ul>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="collaboration.html"><span class="header-section-number">18</span> Collaborating with GitHub</a></div>
<div class="next"><a href="reproduce.html"><span class="header-section-number">20</span> Reproducible reports</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#data-sources"><span class="header-section-number">19</span> Finding and accessing data</a></li>
<li>
<a class="nav-link" href="#finding-data"><span class="header-section-number">19.1</span> Finding data</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#data-in-r-packages"><span class="header-section-number">19.1.1</span> Data in R packages</a></li>
<li><a class="nav-link" href="#tidy-tuesday"><span class="header-section-number">19.1.2</span> Tidy Tuesday</a></li>
<li><a class="nav-link" href="#r-packages-for-accessing-data"><span class="header-section-number">19.1.3</span> R packages for accessing data</a></li>
<li><a class="nav-link" href="#websites-with-data-collections"><span class="header-section-number">19.1.4</span> Websites with data collections</a></li>
<li><a class="nav-link" href="#canadian-covid-data"><span class="header-section-number">19.1.5</span> Canadian COVID data</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#examples-of-accessing-data"><span class="header-section-number">19.2</span> Examples of accessing data</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#gapminder"><span class="header-section-number">19.2.1</span> Gapminder</a></li>
<li><a class="nav-link" href="#consumer-price-index-in-canada"><span class="header-section-number">19.2.2</span> Consumer price index in Canada</a></li>
</ul>
</li>
<li><a class="nav-link" href="#other-r-packages-related-to-data-collection"><span class="header-section-number">19.3</span> Other R packages related to data collection</a></li>
<li><a class="nav-link" href="#describing-data"><span class="header-section-number">19.4</span> Describing data</a></li>
<li><a class="nav-link" href="#distribution-of-data"><span class="header-section-number">19.5</span> Distribution of data</a></li>
<li><a class="nav-link" href="#further-reading-13"><span class="header-section-number">19.6</span> Further reading</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/AndrewIrwin/data-visualization/blob/master/301-data-sources.rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/AndrewIrwin/data-visualization/edit/master/301-data-sources.rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Data Visualization</strong>" was written by Andrew Irwin. It was last built on 2021-02-24.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
